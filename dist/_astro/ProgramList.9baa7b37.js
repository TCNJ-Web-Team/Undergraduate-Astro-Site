import{j as r}from"./jsx-runtime.b9e88e07.js";import{r as i}from"./index.03be2d59.js";const T=({program:n})=>{const{degreeType:x,slug:h,school:f,programOptions:c,additionalOptions:g,programAtAGlance:d,learnMoreList:S}=n.program,{title:a}=n;return r.jsx("div",{className:"program-card",id:h,children:r.jsxs("a",{className:"program-link",href:`./${h}`,children:[r.jsx("p",{children:a}),r.jsx("hr",{}),r.jsxs("div",{className:"icon-container",children:[c&&c.map((p,s)=>r.jsx("p",{children:p},s)),g&&g.map((p,s)=>r.jsx("p",{children:p},s))]})]})})};function E({data:n,areaOfStudy:x,programOptionsClean:h,additionalOptions:f}){const[c,g]=i.useState(n.programs.nodes),[d,S]=i.useState([]),[a,p]=i.useState([]),[s,j]=i.useState([]),[C,F]=i.useState("");i.useEffect(()=>{O()},[d,a,s,C]);const O=()=>{let e=n.programs.nodes.filter(w);d.length>0&&(e=e.filter(y)),a.length>0&&(e=e.filter(b)),s.length>0&&(e=e.filter(k)),g(e)},w=e=>{const t=C.toLowerCase();return e.title.toLowerCase().includes(t)||e.program.school.toString().toLowerCase().includes(t)},y=e=>(d??[]).includes(e.program.school.toString()),b=e=>a.some(t=>(e.program.programOptions??[]).includes(t)),k=e=>s.some(t=>(e.program.additionalOptions??[]).includes(t)),v=e=>m(e.target.value,S,d),A=e=>m(e.target.value,p,a),L=e=>m(e.target.value,j,s),m=(e,t,o)=>{let l=[...o];l.includes(e)?l=l.filter(N=>N!==e):l.push(e),t(l)},P=e=>{F(e.target.value)},u=(e,t)=>e.map((o,l)=>r.jsxs("label",{className:`${t.name}-filter`,id:`${o.replace(/\s+/g,"-").toLowerCase()}-filter`,htmlFor:o,children:[o,r.jsx("input",{type:"checkbox",value:o,onChange:t})]},o+l));return r.jsxs("div",{className:"program-wrapper inner-width",children:[r.jsx("input",{type:"text",id:"text-filter",onChange:P,placeholder:"Filter by title or school"}),u(x,v),u(h,A),u(f,L),c&&c.map((e,t)=>r.jsx(T,{program:e},e.program.slug+t))]})}export{E as default};
