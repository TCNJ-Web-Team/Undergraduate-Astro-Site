import{j as i}from"./jsx-runtime.D3GSbgeI.js";import{R as f,r as y}from"./index.Cs-REvGi.js";/* empty css                        */import"./index.yBjzXJbu.js";const x=t=>{let e;const s=new Set,o=(r,l)=>{const a=typeof r=="function"?r(e):r;if(!Object.is(a,e)){const c=e;e=l??(typeof a!="object"||a===null)?a:Object.assign({},e,a),s.forEach(g=>g(e,c))}},p=()=>e,d={setState:o,getState:p,getInitialState:()=>b,subscribe:r=>(s.add(r),()=>s.delete(r))},b=e=t(o,p,d);return d},w=t=>t?x(t):x,S=t=>t;function I(t,e=S){const s=f.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return f.useDebugValue(s),s}const v=t=>{const e=w(t),s=o=>I(e,o);return Object.assign(s,e),s},V=t=>t?v(t):v,R=V(t=>({currentVideoId:null,setCurrentVideoId:e=>t({currentVideoId:e})})),n=[];for(let t=0;t<256;++t)n.push((t+256).toString(16).slice(1));function U(t,e=0){return(n[t[e+0]]+n[t[e+1]]+n[t[e+2]]+n[t[e+3]]+"-"+n[t[e+4]]+n[t[e+5]]+"-"+n[t[e+6]]+n[t[e+7]]+"-"+n[t[e+8]]+n[t[e+9]]+"-"+n[t[e+10]]+n[t[e+11]]+n[t[e+12]]+n[t[e+13]]+n[t[e+14]]+n[t[e+15]]).toLowerCase()}let h;const k=new Uint8Array(16);function E(){if(!h){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");h=crypto.getRandomValues.bind(crypto)}return h(k)}const P=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),j={randomUUID:P};function D(t,e,s){if(j.randomUUID&&!t)return j.randomUUID();t=t||{};const o=t.random??t.rng?.()??E();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,U(o)}const O=({videoUrl:t="https://player.vimeo.com/progressive_redirect/playback/1045005215/rendition/1080p/file.mp4?loc=external&signature=aab76518d4c1b73210f37b990644114d81f4f8d6a84d7bd97a95bfef8f5abbf1",posterImage:e="https://tcnj.edu/custom/homepage/img/compressed/anthem/anthem-thumbnail.jpg",captionUrl:s="https://tcnj.edu/custom/homepage/captions/anthem-video-captions2.vtt",indexNumber:o,videosLength:p})=>{const m=y.useRef(null),[u,d]=y.useState(!1),{currentVideoId:b,setCurrentVideoId:r}=R(),l=y.useRef(D()).current;y.useEffect(()=>{if(b!==l&&u){const c=m.current;c&&(c.pause(),c.controls=!1,c.setAttribute("poster",e),d(!1))}},[b,u,l]);const a=async()=>{const c=m.current;if(c)try{await c.play(),c.controls=!0,d(!0),r(l)}catch(g){console.error("Autoplay/play failed:",g)}};return i.jsx("div",{className:`video-player-container relative w-full ${o===0?"sm:col-span-2 lg:row-span-3 ":""}`,id:`video-number-${o}`,children:i.jsxs("div",{className:"relative w-full h-[500px] sm:h-auto sm:aspect-w-16 sm:aspect-h-9 bg-black overflow-hidden",children:[i.jsxs("video",{ref:m,className:`absolute inset-0 w-full h-full ${u?"object-contain":"object-cover"}`,controls:!1,playsInline:!0,preload:"auto",disablePictureInPicture:!0,disableRemotePlayback:!0,controlsList:"nodownload noplaybackrate",poster:e,children:[i.jsx("source",{src:t,type:"video/mp4"}),s&&i.jsx("track",{kind:"captions",label:"English",src:s,srcLang:"en"}),"Your browser does not support the video tag."]}),!u&&i.jsx("button",{onClick:a,className:"absolute inset-0 z-10 flex items-center justify-center bg-black/30",children:i.jsx("img",{src:"../../video-play-button.svg",alt:"Play",className:`w-[100px] h-[100px] sm:w-[75px]  sm:h-[75px] md:w-[125px]  md:h-[125px] ${p===3&&o&&o>0?"lg:w-[75px] lg:h-[75px]":""}`})})]})})};export{O as default};
