import{j as t}from"./jsx-runtime.b9e88e07.js";import{r as i}from"./index.03be2d59.js";/* empty css                       */const G=({program:c})=>{const{degreeType:x,slug:s,school:m,programOptions:n,additionalOptions:g,programAtAGlance:d,learnMoreList:S}=c.program,{title:a}=c;return t.jsx("div",{className:"program-card",id:s,children:t.jsxs("a",{className:`program-link block border-[1px] 
        border-[#bcbcbc] pl-[30px] pr-[45px] pt-[35px] pb-[40px] sm:min-h-[300px]`,href:`./${s}`,children:[t.jsx("h2",{className:"font-domine font-bold text-[19px] leading-[28px]",children:a}),t.jsx("hr",{className:"my-[20px]"}),t.jsxs("div",{className:"icon-container grid grid-cols-2 gap-x-[20px] gap-y-[10px]",children:[n&&n.map((p,l)=>t.jsx("p",{className:`font-opensans text-[14px] leading-[25px] inline-block ${p.length>15&&"col-span-full"}`,children:p},l)),g&&g.map((p,l)=>t.jsx("p",{className:`font-opensans text-[14px] leading-[25px] inline-block ${p.length>15&&"col-span-full"}`,children:p},l))]})]})})};function k({checkboxContent:c,title:x,isOpen:s,onToggle:m}){return t.jsxs("div",{className:`relative before:content-[''] before:block before:w-full before:h-[10px] w-[100%] before:bg-tcnjyellow  ${s?"open-drop":""}`,children:[t.jsx("h3",{className:`
        dropdown-label
        font-opensans 
        font-semibold 
        leading-[30px] 
        text-black 
        text-[17px] 
        uppercase 
        p-[34px] py-[24px] 
        bg-white border-[1px] 
        border-[#bcbcbc] 
     border-t-0
     cursor-pointer
        ${s?"open":""}`,onClick:m,children:x}),t.jsx("div",{className:`input-list relative md:absolute opacity-0  px-[34px] border-[1px]  w-[100%]
        border-[#bcbcbc] border-t-0 bg-white  transition-all duration-300
        h-0 block-0 pointer-events-none z-20
md:h-auto

        ${s&&"pointer-events-auto block opacity-100 z-50 py-[30px] h-[auto!important]"}
        `,id:`${s?"open-list":""}`,children:c.map((n,g)=>t.jsx("div",{className:"drop-down-item",children:n},g))})]})}const C=({filteredData:c,boxId:x,checkboxContent:s})=>t.jsx(t.Fragment,{children:s&&s.map((m,n)=>t.jsx("div",{className:`drop-down-item ${x}`,children:m},n))});function J({data:c,areaOfStudy:x,programOptionsClean:s,additionalOptions:m}){const[n,g]=i.useState(c.programs.nodes),[d,S]=i.useState([]),[a,p]=i.useState([]),[l,$]=i.useState([]),[f,O]=i.useState(""),[b,F]=i.useState(null),y=i.useRef(null),w=e=>{F(b===e?null:e)},j=e=>{if(e.type==="click"&&y.current&&!y.current.contains(e.target)||e.type==="keydown"&&e.key==="Escape"){F(null);const r=document.getElementById("open-list");r&&r.removeAttribute("id")}};i.useEffect(()=>(document.addEventListener("click",j),document.addEventListener("keydown",j),()=>{document.removeEventListener("click",j),document.removeEventListener("keydown",j)}),[]),i.useEffect(()=>{D()},[d,a,l,f]);const D=()=>{let e=c.programs.nodes.filter(T);d.length>0&&(e=e.filter(B)),a.length>0&&(e=e.filter(P)),l.length>0&&(e=e.filter(I)),e=e.sort((r,u)=>r.title.localeCompare(u.title)),g(e)},T=e=>{const r=f.toLowerCase();return e.title.toLowerCase().includes(r)||e.program.school.toString().toLowerCase().includes(r)},B=e=>(d??[]).includes(e.program.school.toString()),P=e=>a.some(r=>(e.program.programOptions??[]).includes(r)),I=e=>l.some(r=>(e.program.additionalOptions??[]).includes(r)),A=e=>v(e.target.value,S,d),E=e=>v(e.target.value,p,a),L=e=>v(e.target.value,$,l),v=(e,r,u)=>{let o=[...u];o.includes(e)?o=o.filter(N=>N!==e):o.push(e),r(o)},z=e=>{O(e.target.value)},R=()=>{O("");const e=document.getElementById("text-filter");e&&(e.value="")},h=(e,r,u)=>e.map((o,N)=>t.jsxs("p",{className:`${r.name}-filter input-container ${u?.includes(o)?"active":""}`,id:`${o.replace(/\s+/g,"-").toLowerCase()}-filter`,onClick:()=>r({target:{value:o}}),children:[o,t.jsx("img",{className:"close-button",src:"/close-item.svg"})]},o+N));return t.jsxs("div",{className:"program-wrapper inner-width",children:[t.jsxs("div",{id:"input-and-filter-wrapper",className:`flex flex-col gap-[20px] bg-lightgrey p-[35px] max-w-[1128px] mx-auto
        
        md:bg-transparent
        lg:px-0`,children:[t.jsx("input",{type:"text",id:"text-filter",className:` w-[100%] font-opensans text-[17px] p-[22px] pr-[34px] pl-[34px] uppercase font-light border-[1px] 
        border-[#bcbcbc] `,onChange:z,placeholder:"Search by keyword"}),t.jsxs("div",{ref:y,id:"filter-wrapper",className:"flex flex-col gap-[30px] sm:gap-[40px] md:flex-row",children:[t.jsx(k,{checkboxContent:h(x,A,d),title:"Area of Study",isOpen:b===0,onToggle:()=>w(0)}),t.jsx(k,{checkboxContent:h(s,E,a),title:"Degree",isOpen:b===1,onToggle:()=>w(1)}),t.jsx(k,{checkboxContent:h(m,L,l),title:"Options",isOpen:b===2,onToggle:()=>w(2)})]}),t.jsx("hr",{}),t.jsxs("div",{id:"display-box-wrapper",className:"flex flex-row justify-between min-h-[50px]",children:[t.jsx("div",{id:"left-content",className:"flex flex-row flex-wrap  gap-[10px]",children:t.jsxs("div",{className:"relative z-10 filtered-display-box",children:[t.jsx("p",{children:"Filtered by: "}),f&&t.jsx("div",{className:"drop-down-item",children:t.jsxs("p",{id:"search-text-filter",onClick:R,children:[f,t.jsx("img",{className:"close-button",src:"/close-item.svg"})]})}),t.jsx(C,{boxId:"area-of-study",checkboxContent:h(d,A,d)}),t.jsx(C,{boxId:"degree",checkboxContent:h(a,E,a)}),t.jsx(C,{boxId:"options",checkboxContent:h(l,L,l)})]})}),t.jsx("div",{id:"right-content",className:"flex flex-row h-[50px] items-center ",children:t.jsxs("p",{children:["Displaying ",t.jsxs("strong",{children:[n.length," results"]})]})})]})]}),n&&n.length===0&&t.jsxs("div",{id:"no-results",className:`bg-lightgrey max-w-[1128px] 
          p-[40px] mx-[30px]  mt-[50px]
          lg:mx-auto
          md:py-[75px] md:px-[100px] `,children:[t.jsx("h3",{className:"font-domine font-[700] text-[21px] leading-[30px] md:mb-[15px]",children:"Please try your search again"}),t.jsx("p",{className:"font-bitter font-normal leading-[35px] text-[18px] py-[18px]",children:"Your search results do not match any available programs."}),t.jsx("hr",{}),t.jsxs("p",{className:"font-bitter font-normal leading-[35px] text-[18px] py-[18px]",children:["Need help finding a program? Contact"," ",t.jsx("a",{className:"underline text-primarylinkblue",href:"mailto:admiss@tcnj.edu",children:"admiss@tcnj.edu"}),","," ",t.jsx("a",{className:"underline text-primarylinkblue",href:"tel:1-609-771-2131",children:"609.771.2131"}),", to get more information."]})]}),t.jsx("div",{id:"filtered-programs-wrapper",className:`grid grid-cols-1  sm:grid-cols-2 md:grid-cols-3 gap-[30px] sm:gap-[40px] p-[35px] max-w-[1128px] mx-auto
        pb-[50px]
        lg:px-0
        md:pb-[100px]
        `,children:n&&n.map((e,r)=>t.jsx(G,{program:e},e.program.slug+r))})]})}export{J as default};
