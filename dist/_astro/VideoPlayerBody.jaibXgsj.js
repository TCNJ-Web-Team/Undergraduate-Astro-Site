import{j as i}from"./jsx-runtime.D3GSbgeI.js";import{R as h,r as p}from"./index.Cs-REvGi.js";/* empty css                        */import"./index.yBjzXJbu.js";const f=e=>{let t;const c=new Set,o=(r,d)=>{const s=typeof r=="function"?r(t):r;if(!Object.is(s,t)){const y=t;t=d??(typeof s!="object"||s===null)?s:Object.assign({},t,s),c.forEach(j=>j(t,y))}},a=()=>t,l={setState:o,getState:a,getInitialState:()=>b,subscribe:r=>(c.add(r),()=>c.delete(r))},b=t=e(o,a,l);return l},S=e=>e?f(e):f,w=e=>e;function I(e,t=w){const c=h.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return h.useDebugValue(c),c}const x=e=>{const t=S(e),c=o=>I(t,o);return Object.assign(c,t),c},V=e=>e?x(e):x,R=V(e=>({currentVideoId:null,setCurrentVideoId:t=>e({currentVideoId:t})})),n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function U(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}let g;const k=new Uint8Array(16);function E(){if(!g){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");g=crypto.getRandomValues.bind(crypto)}return g(k)}const P=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),v={randomUUID:P};function D(e,t,c){if(v.randomUUID&&!e)return v.randomUUID();e=e||{};const o=e.random??e.rng?.()??E();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,U(o)}const O=({videoUrl:e="https://player.vimeo.com/progressive_redirect/playback/1045005215/rendition/1080p/file.mp4?loc=external&signature=aab76518d4c1b73210f37b990644114d81f4f8d6a84d7bd97a95bfef8f5abbf1",posterImage:t="https://tcnj.edu/custom/homepage/img/compressed/anthem/anthem-thumbnail.jpg",captionUrl:c="https://tcnj.edu/custom/homepage/captions/anthem-video-captions2.vtt",indexNumber:o})=>{const a=p.useRef(null),[u,m]=p.useState(!1),{currentVideoId:l,setCurrentVideoId:b}=R(),r=p.useRef(D()).current;p.useEffect(()=>{if(l!==r&&u){const s=a.current;s&&(s.pause(),s.controls=!1,s.setAttribute("poster",t),m(!1))}},[l,u,r]);const d=async()=>{const s=a.current;if(s)try{await s.play(),s.controls=!0,m(!0),b(r)}catch(y){console.error("Autoplay/play failed:",y)}};return i.jsx("div",{className:`video-player-container relative w-full ${o===0?"sm:col-span-2":""}`,id:`video-number-${o}`,children:i.jsxs("div",{className:"relative w-full h-[500px] sm:h-auto sm:aspect-w-16 sm:aspect-h-9 bg-black overflow-hidden",children:[i.jsxs("video",{ref:a,className:`absolute inset-0 w-full h-full ${u?"object-contain":"object-cover"}`,controls:!1,playsInline:!0,preload:"auto",disablePictureInPicture:!0,disableRemotePlayback:!0,controlsList:"nodownload noplaybackrate",poster:t,children:[i.jsx("source",{src:e,type:"video/mp4"}),c&&i.jsx("track",{kind:"captions",label:"English",src:c,srcLang:"en"}),"Your browser does not support the video tag."]}),!u&&i.jsx("button",{onClick:d,className:"absolute inset-0 z-10 flex items-center justify-center bg-black/30",children:i.jsx("img",{src:"../../video-play-button.svg",alt:"Play",className:"w-[100px] h-[100px] sm:w-[75px]  sm:h-[75px] md:w-[125px]  md:h-[125px]"})})]})})};export{O as default};
