import{j as r}from"./jsx-runtime.D3GSbgeI.js";import{r as c}from"./index.Cs-REvGi.js";import{c as v}from"./react.BWlUZnqj.js";/* empty css                        */import"./index.yBjzXJbu.js";const f=v(e=>({currentVideoId:null,setCurrentVideoId:t=>e({currentVideoId:t})})),o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function w(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}let u;const j=new Uint8Array(16);function I(){if(!u){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");u=crypto.getRandomValues.bind(crypto)}return u(j)}const V=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y={randomUUID:V};function R(e,t,i){if(y.randomUUID&&!e)return y.randomUUID();e=e||{};const n=e.random??e.rng?.()??I();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,w(n)}const D=({videoUrl:e="https://player.vimeo.com/progressive_redirect/playback/1045005215/rendition/1080p/file.mp4?loc=external&signature=aab76518d4c1b73210f37b990644114d81f4f8d6a84d7bd97a95bfef8f5abbf1",posterImage:t="https://tcnj.edu/custom/homepage/img/compressed/anthem/anthem-thumbnail.jpg",captionUrl:i="https://tcnj.edu/custom/homepage/captions/anthem-video-captions2.vtt",indexNumber:n,videosLength:h})=>{const l=c.useRef(null),[a,p]=c.useState(!1),{currentVideoId:m,setCurrentVideoId:b}=f(),d=c.useRef(R()).current;c.useEffect(()=>{if(m!==d&&a){const s=l.current;s&&(s.pause(),s.controls=!1,s.setAttribute("poster",t),p(!1))}},[m,a,d]);const g=async()=>{const s=l.current;if(s)try{await s.play(),s.controls=!0,p(!0),b(d)}catch(x){console.error("Autoplay/play failed:",x)}};return r.jsx("div",{className:`video-player-container relative w-full ${n===0?"sm:col-span-2 lg:row-span-3 ":""}`,id:`video-number-${n}`,children:r.jsxs("div",{className:"relative w-full h-[500px] sm:h-auto sm:aspect-w-16 sm:aspect-h-9 bg-black overflow-hidden",children:[r.jsxs("video",{ref:l,className:`absolute inset-0 w-full h-full ${a?"object-contain":"object-cover"}`,controls:!1,playsInline:!0,preload:"auto",disablePictureInPicture:!0,disableRemotePlayback:!0,controlsList:"nodownload noplaybackrate",poster:t,children:[r.jsx("source",{src:e,type:"video/mp4"}),i&&r.jsx("track",{kind:"captions",label:"English",src:i,srcLang:"en"}),"Your browser does not support the video tag."]}),!a&&r.jsx("button",{onClick:g,className:"absolute inset-0 z-10 flex items-center justify-center bg-black/30",children:r.jsx("img",{src:"../../video-play-button.svg",alt:"Play",className:`w-[100px] h-[100px] sm:w-[75px]  sm:h-[75px] md:w-[125px]  md:h-[125px] ${h===3&&n&&n>0?"lg:w-[75px] lg:h-[75px]":""}`})})]})})};export{D as default};
